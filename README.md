# Gorbenko R, MFTIBIO-3, Breast Cancer Diagnostic ETL Pipeline

## Пререквизиты
Airflow установлен и настроен в cloud.ru (интсрукция по установке приложена)

## Инструкция по запуску
sudo pip install -r /home/gorbenkoteh/airflow/dags/breast_cancer_etl/requirements.txt   (Установить зависимости)
sudo airflow dags unpause breast_cancer_pipeline
sudo airflow dags trigger breast_cancer_pipeline

## Назначение скриптов

- **dags/**: Папка для DAG-файлов Airflow  
  - `cancer_pipeline.py` - основной сценарий оркестрации ETL
- **etl/**: Скрипты этапов обработки данных
  - `load_data.py` - загрузка исходных данных
  - `preprocess.py` - очистка и преобразование данных
  - `train_model.py` - обучение ML-модели
  - `evaluate.py` - валидация модели
  - `save_results.py` - сохранение артефактов
- **results/**: Результаты работы
  - `metrics.json` - метрики качества модели
  - `model.pkl` - сериализованная модель
- **logs/**: Директория для лог-файлов
- **config.py**: Конфигурационные параметры (пути, настройки)
- **requirements.txt**: Зависимости Python
- **README.md**: Документация проекта

## Описание проекта
Автоматизированный ETL-пайплайн для прогнозирования рака молочной железы с использованием набора данных Breast Cancer Wisconsin Diagnostic. Пайплайн включает загрузку данных, предобработку, обучение модели, оценку качества и сохранение результатов.

## ML-задача
**Бинарная классификация:** Определение типа опухоли (злокачественная/M или доброкачественная/B) на основе 30 признаков, включая характеристики ядер клеток (радиус, текстура, периметр и др.).

## Потенциальные точки сбоя:
Загрузка данных

Ошибка: Файл не найден/некорректный формат

Решение: Retry (3 попытки), валидация структуры файла

Предобработка

Ошибка: Пропущенные значения, нечисловые данные

Решение: Заполнение средним, логирование проблемных строк

Обучение модели

Ошибка: Несходимость алгоритма

Решение: Увеличение max_iter, балансировка классов

Сохранение результатов

Ошибка: Отсутствие прав доступа к хранилищу

Решение: OAuth-токены с TTL, callback-уведомления

Механизмы устойчивости:
Retries: 3 попытки для каждой задачи

Timeout: 10 минут на выполнение задачи

Alerting: Email-уведомления при сбоях

Isolation: Независимость компонентов друг от друга

Validation: Проверка данных между этапами

## Планы на развитие
Добавить версионирование моделей (MLflow)

Реализовать мониторинг дрейфа данных

Добавить автоматическое ретрайнинг при падении качества

Внедрить DVC для управления данными

Реализовать API для прогнозов (FastAPI)

Добавить тесты для каждого компонента

Внедрить валидацию данных с помощью Pydantic

Реализовать параллельное выполнение задач


## Архитектура пайплайна
```
graph TD
    A[Загрузка данных] --> B[Предобработка]
    B --> C[Обучение модели]
    C --> D[Оценка модели]
    D --> E[Сохранение результатов]
    E --> F[Облачное хранилище]

